---
import Layout from '../layouts/Layout.astro';
import TokenManager from '../islands/TokenManager';
---

<Layout title="Manage Your Tokens - 8xM">
  <div class="max-w-4xl mx-auto">
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-2">Token Manager</h1>
      <p class="text-gray-400">
        Edit metadata for tokens you've created. Add names, symbols, and images so they display properly in wallets.
      </p>
    </div>

    <TokenManager client:load />

    <!-- Help Section -->
    <div class="mt-8 card bg-gray-800/50">
      <h3 class="font-bold mb-3">Why Add Metadata?</h3>
      <div class="space-y-3 text-sm text-gray-300">
        <p>
          <strong class="text-white">Without metadata:</strong> Your token appears as "Unknown Token"
          with just an address in wallets like Phantom and Solflare.
        </p>
        <p>
          <strong class="text-white">With metadata:</strong> Your token displays with its name, symbol,
          and image - making it recognizable and trustworthy.
        </p>
      </div>

      <div class="mt-4 pt-4 border-t border-gray-700">
        <h4 class="font-bold mb-2">How It Works</h4>
        <ol class="list-decimal list-inside space-y-2 text-sm text-gray-300">
          <li>Select one of your tokens above</li>
          <li>Edit the name, symbol, description, or image</li>
          <li>Click "Add Metadata" or "Update Metadata"</li>
          <li>Sign the transaction in your wallet</li>
          <li>Wait for confirmation (~30 seconds)</li>
        </ol>
      </div>

      <div class="mt-4 pt-4 border-t border-gray-700">
        <h4 class="font-bold mb-2">Troubleshooting</h4>
        <ul class="space-y-2 text-sm text-gray-300">
          <li>
            <span class="text-yellow-400">Token not showing?</span> Check our
            <a href="/help/tokens" class="text-purple-400 hover:underline">token help page</a>
            to verify your balance.
          </li>
          <li>
            <span class="text-yellow-400">Transaction failing?</span> Make sure you have enough SOL
            for the transaction fee (~0.01 SOL).
          </li>
          <li>
            <span class="text-yellow-400">Changes not appearing?</span> Some wallets cache metadata.
            Try refreshing or clearing your wallet's cache.
          </li>
        </ul>
      </div>
    </div>
  </div>
</Layout>
